<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>GE_MobileMap&#x2F;www&#x2F;lib&#x2F;forcetk.js - MM Sync Engine</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.7.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.7.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="http:&#x2F;&#x2F;mm-proth.s3.amazonaws.com&#x2F;ge_mobileMap&#x2F;icon&#x2F;icon-72.png" title="MM Sync Engine"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.0.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/ForcetkClient.html">ForcetkClient</a></li>
            
                <li><a href="..&#x2F;classes/MMJSE_SmartStoreUtil.html">MMJSE_SmartStoreUtil</a></li>
            
                <li><a href="..&#x2F;classes/MMSync.html">MMSync</a></li>
            
                <li><a href="..&#x2F;classes/Network.html">Network</a></li>
            
                <li><a href="..&#x2F;classes/OfflineQueue.html">OfflineQueue</a></li>
            
                <li><a href="..&#x2F;classes/sforce.html">sforce</a></li>
            
                <li><a href="..&#x2F;classes/sforce.Base64Binary.html">sforce.Base64Binary</a></li>
            
                <li><a href="..&#x2F;classes/sforce.Connection.html">sforce.Connection</a></li>
            
                <li><a href="..&#x2F;classes/sforce.internal.html">sforce.internal</a></li>
            
                <li><a href="..&#x2F;classes/sforce.LeadConvert.html">sforce.LeadConvert</a></li>
            
                <li><a href="..&#x2F;classes/sforce.MergeRequest.html">sforce.MergeRequest</a></li>
            
                <li><a href="..&#x2F;classes/sforce.SoapTransport.html">sforce.SoapTransport</a></li>
            
                <li><a href="..&#x2F;classes/sforce.SObject.html">sforce.SObject</a></li>
            
                <li><a href="..&#x2F;classes/sforce.StringBuffer.html">sforce.StringBuffer</a></li>
            
                <li><a href="..&#x2F;classes/sforce.Xml.html">sforce.Xml</a></li>
            
                <li><a href="..&#x2F;classes/sforce.XmlReader.html">sforce.XmlReader</a></li>
            
                <li><a href="..&#x2F;classes/sforce.XmlWriter.html">sforce.XmlWriter</a></li>
            
                <li><a href="..&#x2F;classes/SObject.html">SObject</a></li>
            
                <li><a href="..&#x2F;classes/Util.html">Util</a></li>
            
                <li><a href="..&#x2F;classes/vo.MetadataVO.html">vo.MetadataVO</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/Forcetk.html">Forcetk</a></li>
            
                <li><a href="..&#x2F;modules/MM_JSSyncEngine.html">MM_JSSyncEngine</a></li>
            
                <li><a href="..&#x2F;modules/SalesforceAjaxToolkit.html">SalesforceAjaxToolkit</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: GE_MobileMap&#x2F;www&#x2F;lib&#x2F;forcetk.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;*
 * Copyright (c) 2011, salesforce.com, inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, are permitted provided
 * that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice, this list of conditions and the
 * following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and
 * the following disclaimer in the documentation and&#x2F;or other materials provided with the distribution.
 *
 * Neither the name of salesforce.com, inc. nor the names of its contributors may be used to endorse or
 * promote products derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 *&#x2F;

&#x2F;* JavaScript library to wrap REST API on Visualforce. Leverages Ajax Proxy
 * (see http:&#x2F;&#x2F;bit.ly&#x2F;sforce_ajax_proxy for details).
 *
 * Note that you must add the REST endpoint hostname for your instance (i.e. 
 * https:&#x2F;&#x2F;na1.salesforce.com&#x2F; or similar) as a remote site - in the admin
 * console, go to Your Name | Setup | Security Controls | Remote Site Settings
 *&#x2F;

var forcetk = window.forcetk;

&#x2F;&#x2F;-- line added to forcetk as $ is not defined before it is used
if( typeof $ == &quot;undefined&quot; ) $ = null;

if (forcetk === undefined) {
    forcetk = {};
}

if (forcetk.Client === undefined) {

    &#x2F;&#x2F; We use $j rather than $ for jQuery so it works in Visualforce
    if (window.$j === undefined) {
        $j = $;
    }

    &#x2F;**
     * The Client provides a convenient wrapper for the Force.com REST API, 
     * allowing JavaScript in Visualforce pages to use the API via the Ajax
     * Proxy.
     * @module Forcetk
     * @class ForcetkClient
     * @param [clientId=null] &#x27;Consumer Key&#x27; in the Remote Access app settings
     * @param [loginUrl=&#x27;https:&#x2F;&#x2F;login.salesforce.com&#x2F;&#x27;] Login endpoint
     * @param [proxyUrl=null] Proxy URL. Omit if running on Visualforce or 
     *                  PhoneGap etc
     * @constructor
     *&#x2F;
    forcetk.Client = function(clientId, loginUrl, proxyUrl) {
        this.clientId = clientId;
        this.loginUrl = loginUrl || &#x27;https:&#x2F;&#x2F;login.salesforce.com&#x2F;&#x27;;
        if (typeof proxyUrl === &#x27;undefined&#x27; || proxyUrl === null) {
            if (location.protocol === &#x27;file:&#x27;) {
                &#x2F;&#x2F; In PhoneGap
                this.proxyUrl = null;
            } else {
                &#x2F;&#x2F; In Visualforce
                this.proxyUrl = location.protocol + &quot;&#x2F;&#x2F;&quot; + location.hostname
                    + &quot;&#x2F;services&#x2F;proxy&quot;;
            }
            this.authzHeader = &quot;Authorization&quot;;
        } else {
            &#x2F;&#x2F; On a server outside VF
            this.proxyUrl = proxyUrl;
            this.authzHeader = &quot;X-Authorization&quot;;
        }
        this.refreshToken = null;
        this.sessionId = null;
        this.apiVersion = null;
        this.instanceUrl = null;
        this.asyncAjax = true;
    }

    &#x2F;**
     * Set a refresh token in the client.
     * @method setRefreshToken
     * @param refreshToken an OAuth refresh token
     *&#x2F;
    forcetk.Client.prototype.setRefreshToken = function(refreshToken) {
        this.refreshToken = refreshToken;
    }

    &#x2F;**
     * Refresh the access token.
     * @method refreshAccessToken
     * @param callback function to call on success
     * @param error function to call on failure
     *&#x2F;
    forcetk.Client.prototype.refreshAccessToken = function(callback, error) {
        var that = this;
        var url = this.loginUrl + &#x27;&#x2F;services&#x2F;oauth2&#x2F;token&#x27;;
        $j.ajax({
            type: &#x27;POST&#x27;,
            url: (this.proxyUrl !== null) ? this.proxyUrl: url,
            cache: false,
            processData: false,
            data: &#x27;grant_type=refresh_token&amp;client_id=&#x27; + this.clientId + &#x27;&amp;refresh_token=&#x27; + this.refreshToken,
            success: callback,
            error: error,
            dataType: &quot;json&quot;,
            beforeSend: function(xhr) {
                if (that.proxyUrl !== null) {
                    xhr.setRequestHeader(&#x27;SalesforceProxy-Endpoint&#x27;, url);
                }
            }
        });
    }

    &#x2F;**
     * Set a session token and the associated metadata in the client.
     * @method setSessionToken
     * @param sessionId a salesforce.com session ID. In a Visualforce page,
     *                   use &#x27;{!$Api.sessionId}&#x27; to obtain a session ID.
     * @param [apiVersion=&quot;21.0&quot;] Force.com API version
     * @param [instanceUrl] Omit this if running on Visualforce; otherwise 
     *                   use the value from the OAuth token.
     *&#x2F;
    forcetk.Client.prototype.setSessionToken = function(sessionId, apiVersion, instanceUrl) {
        this.sessionId = sessionId;
        this.apiVersion = (typeof apiVersion === &#x27;undefined&#x27; || apiVersion === null)
        ? &#x27;v24.0&#x27;: apiVersion;
        if (typeof instanceUrl === &#x27;undefined&#x27; || instanceUrl == null) {
            &#x2F;&#x2F; location.hostname can be of the form &#x27;abc.na1.visual.force.com&#x27; or
            &#x2F;&#x2F; &#x27;na1.salesforce.com&#x27;. Split on &#x27;.&#x27;, and take the [1] or [0] element
            &#x2F;&#x2F; as appropriate
            var elements = location.hostname.split(&quot;.&quot;);
            var instance = (elements.length == 3) ? elements[0] : elements[1];
            this.instanceUrl = &quot;https:&#x2F;&#x2F;&quot; + instance + &quot;.salesforce.com&quot;;
        } else {
            this.instanceUrl = instanceUrl;
        }
    }

    &#x2F;**
     * Low level utility function to call the Salesforce endpoint.
     * @method ajax
     * @param path resource path relative to &#x2F;services&#x2F;data
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     * @param [method=&quot;GET&quot;] HTTP method for call
     * @param [payload=null] payload for POST&#x2F;PATCH etc
     *&#x2F;
    forcetk.Client.prototype.ajax = function(path, callback, error, method, payload, retry) {
        var that = this;
        var url = this.instanceUrl + &#x27;&#x2F;services&#x2F;data&#x27; + path;

        $j.ajax({
            type: method || &quot;GET&quot;,
            async: this.asyncAjax,
            url: (this.proxyUrl !== null) ? this.proxyUrl: url,
            contentType: &#x27;application&#x2F;json&#x27;,
            cache: false,
            processData: false,
            data: payload,
            success: callback,
            error: (!this.refreshToken || retry ) ? error : function(jqXHR, textStatus, errorThrown) {
                if (jqXHR.status === 401) {
                    that.refreshAccessToken(function(oauthResponse) {
                        that.setSessionToken(oauthResponse.access_token, null,
                        oauthResponse.instance_url);
                        that.ajax(path, callback, error, method, payload, true);
                    },
                    error);
                } else {
                    error(jqXHR, textStatus, errorThrown);
                }
            },
            dataType: &quot;json&quot;,
            beforeSend: function(xhr) {
                if (that.proxyUrl !== null) {
                    xhr.setRequestHeader(&#x27;SalesforceProxy-Endpoint&#x27;, url);
                }
                xhr.setRequestHeader(that.authzHeader, &quot;OAuth &quot; + that.sessionId);
                xhr.setRequestHeader(&#x27;X-User-Agent&#x27;, &#x27;salesforce-toolkit-rest-javascript&#x2F;&#x27; + that.apiVersion);
            }
        });
    }

    &#x2F;**
     * Utility function to query the Chatter API and download a file
     * Note, raw XMLHttpRequest because JQuery mangles the arraybuffer
     * This should work on any browser that supports XMLHttpRequest 2 because arraybuffer is required. 
     * For mobile, that means iOS &gt;= 5 and Android &gt;= Honeycomb
     * @method getChatterFile
     * @author Tom Gersic
     * @param path resource path relative to &#x2F;services&#x2F;data
     * @param mimetype of the file
     * @param callback function to which response will be passed
     * @param [error=null] function to which request will be passed in case of error
     * @param rety true if we&#x27;ve already tried refresh token flow once
     **&#x2F;
    forcetk.Client.prototype.getChatterFile = function(path,mimeType,callback,error,retry) {
        var that = this;
        var url = this.instanceUrl + path;

        var request = new XMLHttpRequest();
                  
        request.open(&quot;GET&quot;,  (this.proxyUrl !== null) ? this.proxyUrl: url, true);
        request.responseType = &quot;arraybuffer&quot;;
        
        request.setRequestHeader(that.authzHeader, &quot;OAuth &quot; + that.sessionId);
        request.setRequestHeader(&#x27;X-User-Agent&#x27;, &#x27;salesforce-toolkit-rest-javascript&#x2F;&#x27; + that.apiVersion);
        if (this.proxyUrl !== null) {
            request.setRequestHeader(&#x27;SalesforceProxy-Endpoint&#x27;, url);
        }
        
        request.onreadystatechange = function() {
            &#x2F;&#x2F; continue if the process is completed
            if (request.readyState == 4) {
                &#x2F;&#x2F; continue only if HTTP status is &quot;OK&quot;
                if (request.status == 200) {
                    try {
                        &#x2F;&#x2F; retrieve the response
                        callback(request.response);
                    }
                    catch(e) {
                        &#x2F;&#x2F; display error message
                        alert(&quot;Error reading the response: &quot; + e.toString());
                    }
                }
                &#x2F;&#x2F;refresh token in 401
                else if(request.status == 401 &amp;&amp; !retry) {
                    that.refreshAccessToken(function(oauthResponse) {
                        that.setSessionToken(oauthResponse.access_token, null,oauthResponse.instance_url);
                        that.getChatterFile(path, mimeType, callback, error, true);
                    },
                    error);
                } 
                else {
                    &#x2F;&#x2F; display status message
                    error(request,request.statusText,request.response);
                }
            }            
            
        }

        request.send();
        
    }

    &#x2F;**
     * Low level utility function to call the Salesforce endpoint specific for Apex REST API.
     * @method apexrest
     * @param path resource path relative to &#x2F;services&#x2F;apexrest
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     * @param [method=&quot;GET&quot;] HTTP method for call
     * @param [payload=null] payload for POST&#x2F;PATCH etc
     *&#x2F;
    forcetk.Client.prototype.apexrest = function(path, callback, error, method, payload, retry) {
        var that = this;
        var url = this.instanceUrl + &#x27;&#x2F;services&#x2F;apexrest&#x27; + path;

        $j.ajax({
            type: method || &quot;GET&quot;,
            async: this.asyncAjax,
            url: (this.proxyUrl !== null) ? this.proxyUrl: url,
            contentType: &#x27;application&#x2F;json&#x27;,
            cache: false,
            processData: false,
            data: payload,
            success: callback,
            error: (!this.refreshToken || retry ) ? error : function(jqXHR, textStatus, errorThrown) {
                if (jqXHR.status === 401) {
                    that.refreshAccessToken(function(oauthResponse) {
                        that.setSessionToken(oauthResponse.access_token, null,
                        oauthResponse.instance_url);
                        that.ajax(path, callback, error, method, payload, true);
                    },
                    error);
                } else {
                    error(jqXHR, textStatus, errorThrown);
                }
            },
            dataType: &quot;json&quot;,
            beforeSend: function(xhr) {
                if (that.proxyUrl !== null) {
                    xhr.setRequestHeader(&#x27;SalesforceProxy-Endpoint&#x27;, url);
                }
                xhr.setRequestHeader(that.authzHeader, &quot;OAuth &quot; + that.sessionId);
                xhr.setRequestHeader(&#x27;X-User-Agent&#x27;, &#x27;salesforce-toolkit-rest-javascript&#x2F;&#x27; + that.apiVersion);
            }
        });
    }

    &#x2F;**
     * Lists summary information about each Salesforce.com version currently 
     * available, including the version, label, and a link to each version&#x27;s
     * root.
     * @method versions
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     *&#x2F;
    forcetk.Client.prototype.versions = function(callback, error) {
        this.ajax(&#x27;&#x2F;&#x27;, callback, error);
    }

    &#x2F;**
     * Lists available resources for the client&#x27;s API version, including 
     * resource name and URI.
     * @method resources
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     *&#x2F;
    forcetk.Client.prototype.resources = function(callback, error) {
        this.ajax(&#x27;&#x2F;&#x27; + this.apiVersion + &#x27;&#x2F;&#x27;, callback, error);
    }

    &#x2F;**
     * Lists the available objects and their metadata for your organization&#x27;s 
     * data.
     * @method describeGlobal
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     *&#x2F;
    forcetk.Client.prototype.describeGlobal = function(callback, error) {
        this.ajax(&#x27;&#x2F;&#x27; + this.apiVersion + &#x27;&#x2F;sobjects&#x2F;&#x27;, callback, error);
    }

    &#x2F;**
     * Describes the individual metadata for the specified object.
     * @method metadata
     * @param objtype object type; e.g. &quot;Account&quot;
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     *&#x2F;
    forcetk.Client.prototype.metadata = function(objtype, callback, error) {
        this.ajax(&#x27;&#x2F;&#x27; + this.apiVersion + &#x27;&#x2F;sobjects&#x2F;&#x27; + objtype + &#x27;&#x2F;&#x27;
        , callback, error);
    }

    &#x2F;**
     * Completely describes the individual metadata at all levels for the 
     * specified object.
     * @method describe
     * @param objtype object type; e.g. &quot;Account&quot;
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     *&#x2F;
    forcetk.Client.prototype.describe = function(objtype, callback, error) {
        this.ajax(&#x27;&#x2F;&#x27; + this.apiVersion + &#x27;&#x2F;sobjects&#x2F;&#x27; + objtype
        + &#x27;&#x2F;describe&#x2F;&#x27;, callback, error);
    }

    &#x2F;**
     * Creates a new record of the given type.
     * @method create
     * @param objtype object type; e.g. &quot;Account&quot;
     * @param fields an object containing initial field names and values for 
     *               the record, e.g. {:Name &quot;salesforce.com&quot;, :TickerSymbol 
     *               &quot;CRM&quot;}
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     *&#x2F;
    forcetk.Client.prototype.create = function(objtype, fields, callback, error) {
        this.ajax(&#x27;&#x2F;&#x27; + this.apiVersion + &#x27;&#x2F;sobjects&#x2F;&#x27; + objtype + &#x27;&#x2F;&#x27;
        , callback, error, &quot;POST&quot;, JSON.stringify(fields));
    }

    &#x2F;**
     * Retrieves field values for a record of the given type.
     * @method retrieve
     * @param objtype object type; e.g. &quot;Account&quot;
     * @param id the record&#x27;s object ID
     * @param [fields=null] optional comma-separated list of fields for which 
     *               to return values; e.g. Name,Industry,TickerSymbol
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     *&#x2F;
    forcetk.Client.prototype.retrieve = function(objtype, id, fieldlist, callback, error) {
        if (!arguments[4]) {
            error = callback;
            callback = fieldlist;
            fieldlist = null;
        }
        var fields = fieldlist ? &#x27;?fields=&#x27; + fieldlist : &#x27;&#x27;;
        this.ajax(&#x27;&#x2F;&#x27; + this.apiVersion + &#x27;&#x2F;sobjects&#x2F;&#x27; + objtype + &#x27;&#x2F;&#x27; + id
        + fields, callback, error);
    }

    &#x2F;**
     * Upsert - creates or updates record of the given type, based on the 
     * given external Id.
     * @method upsert
     * @param objtype object type; e.g. &quot;Account&quot;
     * @param externalIdField external ID field name; e.g. &quot;accountMaster__c&quot;
     * @param externalId the record&#x27;s external ID value
     * @param fields an object containing field names and values for 
     *               the record, e.g. {:Name &quot;salesforce.com&quot;, :TickerSymbol 
     *               &quot;CRM&quot;}
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     *&#x2F;
    forcetk.Client.prototype.upsert = function(objtype, externalIdField, externalId, fields, callback, error) {
        this.ajax(&#x27;&#x2F;&#x27; + this.apiVersion + &#x27;&#x2F;sobjects&#x2F;&#x27; + objtype + &#x27;&#x2F;&#x27; + externalIdField + &#x27;&#x2F;&#x27; + externalId 
        + &#x27;?_HttpMethod=PATCH&#x27;, callback, error, &quot;POST&quot;, JSON.stringify(fields));
    }

    &#x2F;**
     * Updates field values on a record of the given type.
     * @method update
     * @param objtype object type; e.g. &quot;Account&quot;
     * @param id the record&#x27;s object ID
     * @param fields an object containing initial field names and values for 
     *               the record, e.g. {:Name &quot;salesforce.com&quot;, :TickerSymbol 
     *               &quot;CRM&quot;}
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     *&#x2F;
    forcetk.Client.prototype.update = function(objtype, id, fields, callback, error) {
        this.ajax(&#x27;&#x2F;&#x27; + this.apiVersion + &#x27;&#x2F;sobjects&#x2F;&#x27; + objtype + &#x27;&#x2F;&#x27; + id 
        + &#x27;?_HttpMethod=PATCH&#x27;, callback, error, &quot;POST&quot;, JSON.stringify(fields));
    }

    &#x2F;**
     * Deletes a record of the given type. Unfortunately, &#x27;delete&#x27; is a 
     * reserved word in JavaScript.
     * @method del
     * @param objtype object type; e.g. &quot;Account&quot;
     * @param id the record&#x27;s object ID
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     *&#x2F;
    forcetk.Client.prototype.del = function(objtype, id, callback, error) {
        this.ajax(&#x27;&#x2F;&#x27; + this.apiVersion + &#x27;&#x2F;sobjects&#x2F;&#x27; + objtype + &#x27;&#x2F;&#x27; + id
        , callback, error, &quot;DELETE&quot;);
    }

    &#x2F;**
     * Executes the specified SOQL query.
     * @method query
     * @param soql a string containing the query to execute - e.g. &quot;SELECT Id, 
     *             Name from Account ORDER BY Name LIMIT 20&quot;
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     *&#x2F;
    forcetk.Client.prototype.query = function(soql, callback, error) {
        this.ajax(&#x27;&#x2F;&#x27; + this.apiVersion + &#x27;&#x2F;query?q=&#x27; + escape(soql)
        , callback, error);
    }

    &#x2F;**
     * Executes the specified SOSL search.
     * @method search
     * @param sosl a string containing the search to execute - e.g. &quot;FIND 
     *             {needle}&quot;
     * @param callback function to which response will be passed
     * @param [error=null] function to which jqXHR will be passed in case of error
     *&#x2F;
    forcetk.Client.prototype.search = function(sosl, callback, error) {
        this.ajax(&#x27;&#x2F;&#x27; + this.apiVersion + &#x27;&#x2F;search?s=&#x27; + escape(sosl)
        , callback, error);
    }
}
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
